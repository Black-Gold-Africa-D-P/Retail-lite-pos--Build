<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Retail-Lite POS | Power Your Biashara</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      color: #333;
      background: #f8f9fa;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header Hero */
    .hero {
      background: linear-gradient(135deg, #2E7D32 0%, #FF5722 100%);
      color: white;
      padding: 80px 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
      opacity: 0.2;
    }

    .logo {
      font-size: 1.4rem;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .tagline h1 {
      font-size: 2.8rem;
      font-weight: 700;
    }

    .tagline h1 span {
      color: #FFCC80;
    }

    .tagline p {
      font-size: 1.2rem;
      margin: 15px 0;
      opacity: 0.9;
    }

    /* Sign-Up Card */
    .signup-card {
      background: white;
      color: #333;
      max-width: 500px;
      margin: 40px auto;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .signup-card h2 {
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: #2E7D32;
    }

    .input-group {
      position: relative;
      margin-bottom: 16px;
    }

    .input-group i {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #999;
    }

    /* Refined CSS for Features Section with hover and live effects */
    .features {
      background: #f9f9f9;
      padding: 40px 0;
      font-family: 'Poppins', sans-serif;
      color: #333;
    }

    .features h2 {
      text-align: center;
      font-weight: 700;
      margin-bottom: 30px;
      font-size: 2.5rem;
      color: #2E7D32;
    }

    .feature-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 24px;
      max-width: 1000px;
      margin: 0 auto;
    }

    .feature {
      background: white;
      border-radius: 16px;
      box-shadow: 0 6px 15px rgba(46, 125, 50, 0.15);
      padding: 24px 20px;
      flex: 1 1 220px;
      max-width: 260px;
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: default;
      position: relative;
      overflow: hidden;
    }

    .feature:hover {
      transform: translateY(-10px);
      box-shadow: 0 12px 25px rgba(46, 125, 50, 0.3);
      cursor: pointer;
    }

    .feature:hover .icon {
      color: #1b4d20;
      filter: drop-shadow(0 0 6px #2E7D32);
      transform: scale(1.2) rotate(10deg);
    }

    .feature .icon {
      font-size: 3.5rem;
      color: #4caf50;
      margin-bottom: 16px;
      transition: color 0.3s ease, transform 0.3s ease, filter 0.3s ease;
      display: inline-block;
    }

    .feature h3 {
      font-weight: 600;
      font-size: 1.3rem;
      margin-bottom: 12px;
      color: #2E7D32;
    }

    .feature p {
      font-size: 0.95rem;
      line-height: 1.5;
      color: #555;
      min-height: 70px;
    }

    /* Specific icon color tweaks */
    .feature .offline {
      color: #f44336;
      transition: color 0.3s ease;
    }

    .feature .offline:hover {
      color: #b71c1c;
    }

    .feature .mpesa {
      color: #009688;
      transition: color 0.3s ease;
    }

    .feature .mpesa:hover {
      color: #004d40;
    }

    .input-group input {
      width: 100%;
      padding: 14px 14px 14px 40px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 1rem;
      outline: none;
      transition: border 0.3s;
    }

    .input-group input:focus {
      border: 1px solid #2E7D32;
    }

    .btn-primary {
      width: 100%;
      padding: 14px;
      background: #2E7D32;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-primary:hover {
      background: #1B5E20;
    }

    .small {
      text-align: center;
      font-size: 0.9rem;
      margin-top: 12px;
      color: #666;
    }

    /* Stats */
    .stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 40px;
      flex-wrap: wrap;
      font-size: 0.95rem;
    }

    .stat {
      background: rgba(255,255,255,0.2);
      padding: 8px 16px;
      border-radius: 50px;
      font-weight: 600;
    }

    /* Login Form */
    .login-form {
      background: white;
      max-width: 400px;
      margin: 40px auto;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    .login-form button[type="submit"] {
  width: 100%;
  padding: 14px;
  background-color: #2E7D32; /* Primary green */
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.3s ease, box-shadow 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  box-shadow: 0 4px 8px rgba(46, 125, 50, 0.4);
}

.login-form button[type="submit"]:hover,
.login-form button[type="submit"]:focus {
  background-color: #1B5E20; /* Darker green on hover/focus */
  box-shadow: 0 6px 12px rgba(27, 94, 32, 0.6);
  outline: none;
}

    .login-form h2 {
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: #2E7D32;
    }

    /* Dashboard (hidden by default) */
    #dashboard {
      display: none;
      padding: 60px 20px;
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    .welcome {
      background: #2E7D32;
      color: white;
      padding: 30px;
      border-radius: 12px;
      margin-bottom: 30px;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: center;
      transition: transform 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    }

    .card i {
      font-size: 2rem;
      color: #2E7D32;
      margin-bottom: 10px;
    }

    footer {
      background: #333;
      color: #ccc;
      padding: 30px 0;
      text-align: center;
      font-size: 0.9rem;
    }

    footer a {
      color: #FF5722;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    .links {
      margin-top: 10px;
    }

    /* Test Users Panel */
    .test-users-panel {
      background: #f5f5f5;
      border-radius: 8px;
      padding: 20px;
      margin: 20px auto;
      max-width: 800px;
    }

    .test-users-panel h3 {
      text-align: center;
      margin-bottom: 15px;
      color: #2E7D32;
    }

    .test-users-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 10px;
    }

    .test-user-card {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .test-user-card:hover {
      background: #e8f5e9;
      transform: translateY(-3px);
    }

    .test-user-card strong {
      color: #2E7D32;
    }

    .test-user {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .test-user:hover {
      background: #e8f5e9;
      transform: translateY(-3px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    .test-user h4 {
      color: #2E7D32;
      margin: 0 0 10px 0;
      font-size: 1.1rem;
    }

    .test-user p {
      margin: 5px 0;
      font-size: 0.9rem;
      color: #666;
    }

    .test-user small {
      color: #2E7D32;
      font-weight: 600;
      font-style: italic;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .tagline h1 {
        font-size: 2.2rem;
      }
      .signup-card, .login-form {
        margin: 20px 15px;
        padding: 20px;
      }
      .feature-grid {
        flex-direction: column;
        align-items: center;
      }
      .feature {
        max-width: 90%;
      }
    }
  </style>
</head>
<body>

  <!-- Landing Page -->
  <div id="landing">
    <header class="hero">
      <div class="container">
        <div class="logo">
          <i class="fas fa-cash-register"></i> <strong>Retail-Lite POS</strong>
        </div>
        <div class="tagline">
          <h1>Power Your Biashara. <span>Online or Offline.</span></h1>
          <p>Africa's smartest POS for retailers, SMEs, Enterprises — built for Kenya and Africa, made for growth.</p>
        </div>

        <div class="signup-card">
          <h2>Get Started Today — Signup Free!</h2>
          <form id="signupForm">
            <div class="input-group">
              <i class="fas fa-building"></i>
              <input type="text" id="businessName" name="businessName" placeholder="Business Name" required />
            </div>
            <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input type="text" id="signupContact" name="signupContact" placeholder="Email or Phone Number" required />
            </div>
            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input type="password" id="signupPassword" name="signupPassword" placeholder="Create Password" required />
            </div>
            <button type="submit" class="btn-primary">
              Start Selling Smarter <i class="fas fa-arrow-right"></i>
            </button>
          </form>
          <p class="small">No credit card. No risk. Cancel anytime.</p>
        </div>

        <div class="stats">
          <div class="stat"><strong>5,000+</strong> Shops Powered</div>
          <div class="stat"><strong>99.9%</strong> Uptime</div>
          <div class="stat"><strong>Mobile Money Pay & M-Pesa</strong> Ready</div>
        </div>
      </div>
    </header>

<div class="login-form">
  <h2>Retailer Login</h2>
 <form id="loginForm">
  <input type="text" id="loginContact" name="loginContact" placeholder="Email or Phone Number" required />
  <input type="password" id="loginPassword" name="loginPassword" placeholder="Password" required />
  <button type="submit">Login</button>
</form>

<script>
  // Sample users data
  const testUsers = [
    { businessName: "Alpha Retail", contact: "alpha@example.com", password: "alpha123" },
    { businessName: "Beta Traders", contact: "beta@example.com", password: "beta123" }
  ];

  // Initialize test users in localStorage once
  if (!localStorage.getItem('retailLiteTestUsers')) {
    localStorage.setItem('retailLiteTestUsers', JSON.stringify(testUsers));
  }

  document.getElementById('loginForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const contactInput = document.getElementById('loginContact').value.trim();
    const passwordInput = document.getElementById('loginPassword').value.trim();

    // Basic validation
    if (!contactInput || !passwordInput) {
      alert('Please fill in both contact and password fields.');
      return;
    }

    try {
      const users = JSON.parse(localStorage.getItem('retailLiteTestUsers') || '[]');
      const user = users.find(u => u.contact.toLowerCase() === contactInput.toLowerCase() && u.password === passwordInput);

      if (user) {
        localStorage.setItem('retailLiteUser', JSON.stringify({ businessName: user.businessName, contact: user.contact }));
        window.location.href = 'dashboard.html';
      } else {
        alert('Invalid contact or password. Please check your credentials and try again.');
      }
    } catch (error) {
      console.error('Error during login:', error);
      alert('Login error. Please try again.');
    }
  });

  // Input validation functions
  function validateEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  function validatePhone(phone) {
    const phoneRegex = /^(\+254|0)[7-9]\d{8}$/;
    return phoneRegex.test(phone.replace(/\s/g, ''));
  }

  function validateContact(contact) {
    return validateEmail(contact) || validatePhone(contact);
  }

  // Signup form handler
  document.getElementById('signupForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const businessName = document.getElementById('businessName').value.trim();
    const contact = document.getElementById('signupContact').value.trim();
    const password = document.getElementById('signupPassword').value.trim();
    
    // Validation
    if (!businessName || !contact || !password) {
      alert('Please fill in all fields.');
      return;
    }

    if (businessName.length < 2) {
      alert('Business name must be at least 2 characters long.');
      return;
    }

    if (!validateContact(contact)) {
      alert('Please enter a valid email address or Kenyan phone number.');
      return;
    }

    if (password.length < 6) {
      alert('Password must be at least 6 characters long.');
      return;
    }
    
    try {
      // Add new user to test users
      const users = JSON.parse(localStorage.getItem('retailLiteTestUsers') || '[]');
      
      // Check if user already exists
      if (users.find(u => u.contact.toLowerCase() === contact.toLowerCase())) {
        alert('User with this contact already exists.');
        return;
      }
      
      // Add new user
      users.push({ businessName, contact, password });
      localStorage.setItem('retailLiteTestUsers', JSON.stringify(users));
      
      // Auto-login the new user
      localStorage.setItem('retailLiteUser', JSON.stringify({ businessName, contact }));
      alert('Account created successfully! Redirecting to dashboard...');
      window.location.href = 'dashboard.html';
    } catch (error) {
      console.error('Error during signup:', error);
      alert('Signup error. Please try again.');
    }
  });

  // Logout function
  function logout() {
    localStorage.removeItem('retailLiteUser');
    window.location.href = 'index.html';
  }

  // HTML escape function to prevent XSS
  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  // Populate test users grid
  function populateTestUsers() {
    const testUsersGrid = document.getElementById('testUsersGrid');
    if (testUsersGrid) {
      try {
        const users = JSON.parse(localStorage.getItem('retailLiteTestUsers') || '[]');
        testUsersGrid.innerHTML = users.map((user, index) => `
          <div class="test-user" onclick="quickLogin('${escapeHtml(user.contact)}', '${escapeHtml(user.password)}')" data-user-index="${index}">
            <h4>${escapeHtml(user.businessName)}</h4>
            <p>Contact: ${escapeHtml(user.contact)}</p>
            <p>Password: ${escapeHtml(user.password)}</p>
            <small>Click to login</small>
          </div>
        `).join('');
      } catch (error) {
        console.error('Error populating test users:', error);
        testUsersGrid.innerHTML = '<p>Error loading test users. Please refresh the page.</p>';
      }
    }
  }

  // Quick login function for test users
  function quickLogin(contact, password) {
    try {
      const users = JSON.parse(localStorage.getItem('retailLiteTestUsers') || '[]');
      const user = users.find(u => u.contact === contact && u.password === password);
      
      if (user) {
        localStorage.setItem('retailLiteUser', JSON.stringify({ 
          businessName: user.businessName, 
          contact: user.contact 
        }));
        window.location.href = 'dashboard.html';
      } else {
        alert('User not found. Please try logging in manually.');
      }
    } catch (error) {
      console.error('Error during quick login:', error);
      alert('Login error. Please try again.');
    }
  }

  // Initialize test users grid on page load
  document.addEventListener('DOMContentLoaded', populateTestUsers);
</script>
  <p class="small">Test Users: <strong>Click any user below to login instantly</strong></p>
  
</div>
    <!-- Test Users Panel -->
    <div class="test-users-panel">
      <h3>Test Retailer Accounts (Click to Login)</h3>
      <div class="test-users-grid" id="testUsersGrid">
        <!-- Test users will be populated by JavaScript -->
      </div>
    </div>
    
<section class="features">
      <div class="container">
        <h2>Why Retailers Love Retail-Lite</h2>
        <div class="feature-grid">
          <div class="feature">
            <i class="fas fa-wifi-slash icon offline"></i>
            <h3>Works Offline</h3>
            <p>Sell during blackouts or poor signal. Data syncs automatically when back online.</p>
          </div>
          <div class="feature">
            <i class="fas fa-mobile-alt icon"></i>
            <h3>Phone or Tablet</h3>
            <p>No expensive hardware — use your Android device as a full POS.</p>
          </div>
          <div class="feature">
            <i class="fas fa-money-bill-wave icon mpesa"></i>
            <h3>Mobile Money Pay / M-Pesa Integrated</h3>
            <p>Accept payments instantly and reconcile sales in real time.</p>
          </div>
          <div class="feature">
            <i class="fas fa-chart-line icon"></i>
            <h3>Smart Reports</h3>
            <p>Track sales, inventory, and profits with easy-to-read dashboards.</p>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <p>&copy; 2025 <strong>Retail-Lite POS</strong> | BGDPlatform — Made in Kenya for African Retailers, SMEs, and Enterprises.</p>
        <div class="links">
          <a href="#">Privacy</a> • <a href="#">Terms</a> • <a href="mailto:support@retail-lite.co.ke">Contact</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- Dashboard (shown after login) -->
  <div id="dashboard">
    <div class="container">
      <div class="welcome">
        <h1><i class="fas fa-handshake"></i> Karibu, <span id="userName">Retailer</span>!</h1>
        <p>Welcome to Retail-Lite POS. You're now logged in and can start selling today.</p>
      </div>

      <div class="cards">
        <div class="card">
          <i class="fas fa-cash-register"></i>
          <h3>New Sale</h3>
        </div>
        <div class="card">
          <i class="fas fa-box"></i>
          <h3>Inventory</h3>
        </div>
        <div class="card">
          <i class="fas fa-chart-bar"></i>
          <h3>Reports</h3>
        </div>
        <div class="card">
          <i class="fas fa-money-bill-wave"></i>
          <h3>M-Pesa Sync</h3>
        </div>
      </div>

      <p>
        <button onclick="logout()" style="background:#2E7D32; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">
          ← Logout
        </button>
      </p>
    </div>
  </div>

  <!-- Floating Chat Button -->
  <button id="open-chatbot" style="position: fixed; bottom: 90px; right: 20px; background: #2E7D32; color: white; border: none; border-radius: 50%; width: 56px; height: 56px; font-size: 1.5rem; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10000;">
    💬
  </button>

  <!-- Floating WhatsApp Contact Button -->
  <a href="https://wa.me/254710450454" target="_blank" rel="noopener" style="position: fixed; bottom: 150px; right: 20px; background: #25D366; color: white; border-radius: 50%; width: 56px; height: 56px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; text-decoration: none; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10000;">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Floating Email Contact Button -->
  <a href="mailto:support@retail-lite.co.ke" style="position: fixed; bottom: 210px; right: 20px; background: #D44638; color: white; border-radius: 50%; width: 56px; height: 56px; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; text-decoration: none; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10000;">
    ✉️
  </a>

  <!-- Floating Location Button -->
  <a href="https://goo.gl/maps/your-location" target="_blank" rel="noopener" style="position: fixed; bottom: 270px; right: 20px; background: #1976D2; color: white; border-radius: 50%; width: 56px; height: 56px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; text-decoration: none; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10000;">
    📍
  </a>

</body>
</html>